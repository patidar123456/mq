//
console.log("working");
let apikey = 'd453b8b3a3a44dd8b298597436ff8b43';
let topic = 'health';

let mednews = document.getElementById('mednews');
let diseases = document.getElementById('diseases');

const callapi = async()=>{
    let store =  await fetch(`https://newsapi.org/v2/everything?q=medical%20OR%20health&sources=bbc-news&apiKey=${apikey}`).then(res=>res.json()).then(data=>data);
    console.log(store);
    setdata(store);
}
const callapisecond = async()=>{
    let store =  await fetch(`https://newsapi.org/v2/everything?q=disease%20OR%20drugs%20OR%20virus&sources=bbc-news&apiKey=${apikey}`).then(res=>res.json()).then(data=>data);
    console.log(store);
    setdata2(store);
}

const setdata =(coll)=>{
    let collection = coll.articles;
    console.log(collection);
    let html=''
    collection.forEach(element => {
        html+=` 
        <div class="py-8 flex flex-wrap md:flex-nowrap tbh">
        <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col" style="display:flex; justify-content:center;align-items:center;margin: auto; padding: 10px 5px;">
          <img class="i" src="${element.urlToImage}" alt="vfs">
        </div>
        <div class="md:flex-grow">
          <h2 class="text-2xl font-medium text-gray-900 title-font mb-2" class="co" style="font-weight:bold; color:#1d3557">${element.title}</h2>
          <p class="leading-relaxed text-xl text-gray-500">${element.description}</p>
          <p class="leading-relaxed text-xl text-gray-500">${element.content}</p>
          <p class="leading-relaxed text-s text-red" style="font-weight:bold">Published At : <span class="gg">${element.publishedAt}</span></p>
          <a class="text-indigo-500 inline-flex items-center mt-4" href="${element.url}">Learn More
            <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12h14"></path>
              <path d="M12 5l7 7-7 7"></path>
             </svg>
             </a>
            </div>
        </div>
        `
    });

    mednews.innerHTML = html;
}
const setdata2 =(coll2)=>{
    let collection2 = coll2.articles;
    console.log(collection2);
    let html=''
    collection2.forEach(element => {
        html+=` 
        <div class="py-8 flex flex-wrap md:flex-nowrap">
        <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col" style="display:flex; justify-content:center;align-items:center;margin: auto; padding: 10px 5px;">
          <img class="i" src="${element.urlToImage}" alt="vfs">
        </div>
        <div class="md:flex-grow">
          <h2 class="text-2xl font-medium text-gray-900 title-font mb-2" class="co" style="font-weight:bold; color:#1d3557">${element.title}</h2>
          <p class="leading-relaxed text-xl text-gray-500">${element.description}</p>
          <p class="leading-relaxed text-lg" text-gry-500>${element.content}</p>
          <p class="leading-relaxed text-s text-red" style="font-weight:bold">Published At : <span class="gg">${element.publishedAt}</span></p>
          <a class="text-indigo-500 inline-flex items-center mt-4" href="${element.url}">Learn More
            <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12h14"></path>
              <path d="M12 5l7 7-7 7"></path>
             </svg>
             </a>
            </div>
        </div>
        `
    });

    diseases.innerHTML = html;
}


callapi();
callapisecond();